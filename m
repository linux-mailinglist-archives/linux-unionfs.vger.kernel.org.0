Return-Path: <linux-unionfs+bounces-800-lists+linux-unionfs=lfdr.de@vger.kernel.org>
X-Original-To: lists+linux-unionfs@lfdr.de
Delivered-To: lists+linux-unionfs@lfdr.de
Received: from sv.mirrors.kernel.org (sv.mirrors.kernel.org [IPv6:2604:1380:45e3:2400::1])
	by mail.lfdr.de (Postfix) with ESMTPS id 5DE73930DEF
	for <lists+linux-unionfs@lfdr.de>; Mon, 15 Jul 2024 08:26:46 +0200 (CEST)
Received: from smtp.subspace.kernel.org (wormhole.subspace.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by sv.mirrors.kernel.org (Postfix) with ESMTPS id 143FB2814B7
	for <lists+linux-unionfs@lfdr.de>; Mon, 15 Jul 2024 06:26:45 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id 48E6513AA3C;
	Mon, 15 Jul 2024 06:26:44 +0000 (UTC)
X-Original-To: linux-unionfs@vger.kernel.org
Received: from spam.asrmicro.com (asrmicro.com [210.13.118.86])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id CD8C179C4
	for <linux-unionfs@vger.kernel.org>; Mon, 15 Jul 2024 06:26:41 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=210.13.118.86
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1721024804; cv=none; b=a7UrJanvEfHsd7mnzallIvfTmIKXubs6BeWIuMplcryJekUsyws1F8LLJIweRo2cIPixtCJSTbTXVkbjJRoyYDBnXt6mrYVJMmWZff4h8Vw3tSIa1tnrYDGjXnXBZ7OcbxCHI2s/mpmOciYu3ktTEQ1cdyY0vKi2hXhfWVXQfDY=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1721024804; c=relaxed/simple;
	bh=j730KwkobayixCsJeYoc3MzvvMhIhfJYuUZqB0nBiZg=;
	h=From:To:CC:Subject:Date:Message-ID:References:In-Reply-To:
	 Content-Type:MIME-Version; b=nxSgKRZuqrTBo6kPxFDm9c7dx3FEqqlQzi5o+JgoZUsOkZIVCN8JXCbeOJVUVLpkfK7CzPsEl9rr6KP6DVRoir7KDPx4qxNUo02kvK6idHsWihoflo6CfZ1z8q8KxMRqrSF5jsdaX9XbkTnNK6ruH9I8wJzNny25W0NHvdiBzmw=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=none (p=none dis=none) header.from=asrmicro.com; spf=pass smtp.mailfrom=asrmicro.com; arc=none smtp.client-ip=210.13.118.86
Authentication-Results: smtp.subspace.kernel.org; dmarc=none (p=none dis=none) header.from=asrmicro.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=asrmicro.com
Received: from spam.asrmicro.com (localhost [127.0.0.2] (may be forged))
	by spam.asrmicro.com with ESMTP id 46F67MOk010412
	for <linux-unionfs@vger.kernel.org>; Mon, 15 Jul 2024 14:07:22 +0800 (GMT-8)
	(envelope-from feilv@asrmicro.com)
Received: from mail2012.asrmicro.com (mail2012.asrmicro.com [10.1.24.123])
	by spam.asrmicro.com with ESMTPS id 46F66t16010353
	(version=TLSv1 cipher=ECDHE-RSA-AES256-SHA bits=256 verify=FAIL);
	Mon, 15 Jul 2024 14:06:55 +0800 (GMT-8)
	(envelope-from feilv@asrmicro.com)
Received: from exch01.asrmicro.com (10.1.24.121) by mail2012.asrmicro.com
 (10.1.24.123) with Microsoft SMTP Server (TLS) id 15.0.847.32; Mon, 15 Jul
 2024 14:06:57 +0800
Received: from exch01.asrmicro.com ([::1]) by exch01.asrmicro.com ([::1]) with
 mapi id 15.00.0847.030; Mon, 15 Jul 2024 14:06:57 +0800
From: =?utf-8?B?THYgRmVp77yI5ZCV6aOe77yJ?= <feilv@asrmicro.com>
To: Amir Goldstein <amir73il@gmail.com>
CC: "miklos@szeredi.hu" <miklos@szeredi.hu>,
        overlayfs
	<linux-unionfs@vger.kernel.org>
Subject: =?utf-8?B?562U5aSNOiBvdmVybGF5ZnMgaXNzdWU6IGRpciBwZXJtaXNzaW9uIGxvc3Qg?=
 =?utf-8?Q?during_overlayfs_copy-up?=
Thread-Topic: overlayfs issue: dir permission lost during overlayfs copy-up
Thread-Index: AdrUC0gEiOU98wx1R2KKZaM5fXllRAABtu/g///UyID/+v9iQA==
Date: Mon, 15 Jul 2024 06:06:56 +0000
Message-ID: <d75ce286091046438f8828554eb3f781@exch01.asrmicro.com>
References: <a2391c78f3974c5d92aa53574bde4eca@exch01.asrmicro.com>
 <CAOQ4uxj-pOvmw1-uXR3qVdqtLjSkwcR9nVKcNU_vC10Zyf2miQ@mail.gmail.com>
In-Reply-To: <CAOQ4uxj-pOvmw1-uXR3qVdqtLjSkwcR9nVKcNU_vC10Zyf2miQ@mail.gmail.com>
Accept-Language: zh-CN, en-US
Content-Language: zh-CN
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Precedence: bulk
X-Mailing-List: linux-unionfs@vger.kernel.org
List-Id: <linux-unionfs.vger.kernel.org>
List-Subscribe: <mailto:linux-unionfs+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-unionfs+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-DNSRBL: 
X-SPAM-SOURCE-CHECK: pass
X-MAIL:spam.asrmicro.com 46F67MOk010412

DQoNCj4gLS0tLS3pgq7ku7bljp/ku7YtLS0tLQ0KPiDlj5Hku7bkuro6IEFtaXIgR29sZHN0ZWlu
IFttYWlsdG86YW1pcjczaWxAZ21haWwuY29tXSANCj4g5Y+R6YCB5pe26Ze0OiAyMDI05bm0N+ac
iDEy5pelIDE3OjQxDQo+IOaUtuS7tuS6ujogTHYgRmVp77yI5ZCV6aOe77yJIDxmZWlsdkBhc3Jt
aWNyby5jb20+DQo+IOaKhOmAgTogbWlrbG9zQHN6ZXJlZGkuaHU7IG92ZXJsYXlmcyA8bGludXgt
dW5pb25mc0B2Z2VyLmtlcm5lbC5vcmc+DQo+IOS4u+mimDogUmU6IG92ZXJsYXlmcyBpc3N1ZTog
ZGlyIHBlcm1pc3Npb24gbG9zdCBkdXJpbmcgb3ZlcmxheWZzIGNvcHktdXANCj4gDQo+IE9uIEZy
aSwgSnVsIDEyLCAyMDI0IGF0IDc6MTjigK9BTSBMdiBGZWnvvIjlkJXpo57vvIkgPGZlaWx2QGFz
cm1pY3JvLmNvbT4gd3JvdGU6DQo+ID4NCj4gPg0KPiA+DQo+ID4gRGVhciBBbWlyLA0KPiA+DQo+
ID4NCj4gPg0KPiA+IFNlZW1zIGlzc3VlIGRpc2FwcGVhcmVkIHdpdGggYmVsb3cgY2hhbmdlcywg
Y2FuIHlvdSBoZWxwIHJldmlldyBiZWxvdyBwYXRjaD8NCj4gPg0KPiA+DQo+ID4NCj4gPiBUaGFu
ayB5b3UhDQo+ID4NCj4gPg0KPiA+DQo+ID4gZGlmZiAtLWdpdCBhL2ZzL292ZXJsYXlmcy9jb3B5
X3VwLmMgYi9mcy9vdmVybGF5ZnMvY29weV91cC5jDQo+ID4NCj4gPiBpbmRleCA0OGJjYTU4MTdm
Li5lNTQzYjU1NjNkIDEwMDY0NA0KPiA+DQo+ID4gLS0tIGEvZnMvb3ZlcmxheWZzL2NvcHlfdXAu
Yw0KPiA+DQo+ID4gKysrIGIvZnMvb3ZlcmxheWZzL2NvcHlfdXAuYw0KPiA+DQo+ID4gQEAgLTg1
MSw5ICs4NTEsMTEgQEAgc3RhdGljIGludCBvdmxfY29weV91cF9vbmUoc3RydWN0IGRlbnRyeSAq
cGFyZW50LCANCj4gPiBzdHJ1Y3QgZGVudHJ5ICpkZW50cnksDQo+ID4NCj4gPg0KPiA+DQo+ID4g
aW50IG92bF9jb3B5X3VwX2ZsYWdzKHN0cnVjdCBkZW50cnkgKmRlbnRyeSwgaW50IGZsYWdzKQ0K
PiA+DQo+ID4gew0KPiA+DQo+ID4gKyAgICAgICBzdHJ1Y3Qgc3VwZXJfYmxvY2sgKnNiID0gZGVu
dHJ5LT5kX3NiOw0KPiA+DQo+ID4gICAgICAgICBpbnQgZXJyID0gMDsNCj4gPg0KPiA+ICAgICAg
ICAgY29uc3Qgc3RydWN0IGNyZWQgKm9sZF9jcmVkOw0KPiA+DQo+ID4gICAgICAgICBib29sIGRp
c2Nvbm5lY3RlZCA9IChkZW50cnktPmRfZmxhZ3MgJiBEQ0FDSEVfRElTQ09OTkVDVEVEKTsNCj4g
Pg0KPiA+ICsgICAgICAgdW5zaWduZWQgaW50IGNvcGllcyA9IDA7DQo+ID4NCj4gPg0KPiA+DQo+
ID4gICAgICAgICAvKg0KPiA+DQo+ID4gICAgICAgICAgKiBXaXRoIE5GUyBleHBvcnQsIGNvcHkg
dXAgY2FuIGdldCBjYWxsZWQgZm9yIGEgZGlzY29ubmVjdGVkIG5vbi1kaXIuDQo+ID4NCj4gPiBA
QCAtODg3LDkgKzg4OSwxNCBAQCBpbnQgb3ZsX2NvcHlfdXBfZmxhZ3Moc3RydWN0IGRlbnRyeSAq
ZGVudHJ5LCBpbnQgDQo+ID4gZmxhZ3MpDQo+ID4NCj4gPg0KPiA+DQo+ID4gICAgICAgICAgICAg
ICAgIGRwdXQocGFyZW50KTsNCj4gPg0KPiA+ICAgICAgICAgICAgICAgICBkcHV0KG5leHQpOw0K
PiA+DQo+ID4gKw0KPiA+DQo+ID4gKyAgICAgICAgICAgICAgIGNvcGllcysrOw0KPiA+DQo+ID4g
ICAgICAgICB9DQo+ID4NCj4gPiAgICAgICAgIG92bF9yZXZlcnRfY3JlZHMoZGVudHJ5LT5kX3Ni
LCBvbGRfY3JlZCk7DQo+ID4NCj4gPg0KPiA+DQo+ID4gKyAgICAgICBpZiAoY29waWVzICYmIGRf
aXNfZGlyKGRlbnRyeSkgJiYgc2ItPnNfb3AtPnN5bmNfZnMpDQo+ID4NCj4gPiArICAgICAgICAg
ICAgICAgc2ItPnNfb3AtPnN5bmNfZnMoc2IsIDEpOw0KPiA+DQo+ID4gKw0KPiA+DQo+IA0KPiBJ
IGFtIG5vdCBzdXJlIGlmIGl0IGlzIGFjY2VwdGFibGUgdG8gYWRkIHN5bmMgdG8gcGFyZW50IGRp
ciBjb3B5IHVwIGFsdGhvdWdoIHRoaXMgc2hvdWxkIGJlID4gcmVsYXRpdmVseSByYXJlIHNvIG1h
eWJlIGl0cyBmaW5lPz8NCj4gYnV0IGlmIHlvdSBkbyBhZGQgc3luYyB5b3Ugc2hvdWxkIGJlIHVz
aW5nIGZzeW5jIG9uIHRoZSBjb3BpZWQgdXAgcGFyZW50IGRpcmVjdG9yeSAtIG5vdCAtPnN5bmNf
ZnMuDQo+IA0KPiBBbnl3YXksIHRoaXMgY2hlY2sgaXMgd3JvbmcuDQo+IFlvdSBzaG91bGQgbm90
IGJlIGNoZWNraW5nIGZvciBkX2lzX2RpcihkZW50cnkpLCB5b3Ugc2hvdWxkIGJlIGNoZWNraW5n
IGlmIGFueSAqcGFyZW50cyogd2VyZSBjb3BpZWQgPiB1cCwNCj4gDQo+IFNlZSBtb3JlIGFib3V0
IHRoaXMgYmVsb3cuLi4NCj4gDQo+ID4NCj4gPg0KPiA+DQo+ID4g5Y+R5Lu25Lq6OiBMdiBGZWnv
vIjlkJXpo57vvIkNCj4gPiDlj5HpgIHml7bpl7Q6IDIwMjTlubQ35pyIMTLml6UgMTE6MzUNCj4g
PiDmlLbku7bkuro6ICdhbWlyNzNpbEBnbWFpbC5jb20nIDxhbWlyNzNpbEBnbWFpbC5jb20+DQo+
ID4g5Li76aKYOiBvdmVybGF5ZnMgaXNzdWU6IGRpciBwZXJtaXNzaW9uIGxvc3QgZHVyaW5nIG92
ZXJsYXlmcyBjb3B5LXVwDQo+ID4NCj4gPg0KPiA+DQo+ID4NCj4gPg0KPiA+IERlYXIgQW1pciwN
Cj4gPg0KPiA+DQo+ID4NCj4gPiBTb3JyeSB0byBib3RoZXIgeW91Lg0KPiA+DQo+ID4NCj4gPg0K
PiA+IFJlY2VudGx5LCB3ZSBoYWQgYSBwcm9ibGVtIHdpdGggb3ZlcmxheWZzIGRpciBjb3B5LXVw
IGZsb3cuDQo+ID4NCj4gPg0KPiA+DQo+ID4gRGVzY3JpcHRpb246DQo+ID4NCj4gPiBJZiBhIGRp
ciBleWVseW4vIGV4aXN0IGluIGxvdyBsYXllciwgbm90IGV4aXN0IGluIHVwcGVyIGxheWVyLCBh
ZnRlciBjcmVhdGluZyBhIG5ldyBmaWxlKGUuZy4gPiBleWVseW4vIGV5ZWx5bi5sb2cpIGluIHRo
aXMgZGlyIGZyb20gb3ZlcmxheWZzLCBwZXJtaXNzaW9uIG9mIGV5ZWx5bi8gbWF5IGJlIGFibm9y
bWFsIGFmdGVyID4gcG93ZXItY3V0Lg0KPiA+DQo+ID4gSWYgYWRkIGEgc3luYyBhZnRlciBjcmVh
dGluZyBhIG5ldyBmaWxlLCBwZXJtaXNzaW9uIG9mIGV5ZWx5bi8gaXMgYWx3YXlzIGNvcnJlY3Qu
DQo+ID4NCj4gPg0KPiA+DQo+ID4gS2VybmVsIFZlcnNpb246DQo+ID4NCj4gPiBMaW51eCBPcGVu
V3J0IDUuNC4yNzYrICMyNSBQUkVFTVBUIEZyaSBKdWwgMTIgMDI6MjE6MTcgVVRDIDIwMjQgYXJt
djdsIA0KPiA+IEdOVS9MaW51eA0KPiA+DQo+ID4NCj4gPg0KPiA+IFRlc3QgU3RlcDoNCj4gPg0K
PiA+IDEuIG1vdW50IOKAk3Qgc3F1YXNoZnMgL2Rldi9tdGRibG9jazE5IC9zeXN0ZW0vZXRjDQo+
ID4NCj4gPiByb290QE9wZW5XcnQ6L3N5c3RlbS9ldGMjIGxzIC1sDQo+ID4NCj4gPiBkcnd4ci14
ci14ICAgIDIgcm9vdCAgICAgcm9vdCAgICAgICAgICAgICAzIEp1bCAxMSAgMjAyNCBleWVseW4v
DQo+ID4NCj4gPg0KPiA+DQo+ID4gMi4gbW91bnQg4oCTdCB1YmlmcyB1YmkwOmV0YyAvb3Zlcmxh
eS9ldGMNCj4gPg0KPiA+IHJvb3RAT3BlbldydDovb3ZlcmxheS9ldGMjIGxzIC1sDQo+ID4NCj4g
PiBkcnd4ci14ci14ICAgIDggcm9vdCAgICAgcm9vdCAgICAgICAgICAxMzYwIEphbiAgMSAwODow
MSByb290Lw0KPiA+DQo+ID4gZHJ3eHIteHIteCAgICAzIHJvb3QgICAgIHJvb3QgICAgICAgICAg
IDIyNCBKYW4gIDEgMDg6MDAgd29yay8NCj4gPg0KPiA+IHJvb3RAT3BlbldydDovb3ZlcmxheS9l
dGMjIGxzIC1hbCByb290Lw0KPiA+DQo+ID4gZHJ3eHIteHIteCAgICA4IHJvb3QgICAgIHJvb3Qg
ICAgICAgICAgMTM2MCBKYW4gIDEgMDg6MDEgLi8NCj4gPg0KPiA+IGRyd3hyLXhyLXggICAgNCBy
b290ICAgICByb290ICAgICAgICAgICAyODggSmFuICAxIDA4OjAwIC4uLw0KPiA+DQo+ID4NCj4g
Pg0KPiA+IDMuIG1vdW50IOKAk3Qgb3ZlcmxheSAvc3lzdGVtL2V0YyAtbyANCj4gPiBub2F0aW1l
LGxvd2VyZGlyPS9zeXN0ZW0vZXRjLHVwcGVyZGlyPS9vdmVybGF5L2V0Yy9yb290LHdvcmtkaXI9
L292ZXJsDQo+ID4gYXkvZXRjL3dvcmsNCj4gPg0KPiA+DQo+ID4NCj4gPiA0LiBlY2hvIHN5c3Rl
bSA+IC9zeXN0ZW0vZXRjIC9leWVseW4vZXllbHluLmxvZw0KPiA+DQo+ID4NCj4gPg0KPiA+IDUu
IHBvd2VyIGN1dA0KPiA+DQo+ID4NCj4gPg0KPiA+IDYuIGFmdGVyIG5leHQgcG93ZXIgb24sIHNv
bWV0aW1lcyBkaXIgZXllbHluLyBoYXMgd3JvbmcgcGVybWlzc2lvbiANCj4gPiAoZC0tLS0tLS0t
LSkNCj4gPg0KPiA+DQo+ID4NCj4gPiBtb3VudCDigJN0IHViaWZzIHViaTA6ZXRjIC9vdmVybGF5
L2V0Yw0KPiA+DQo+ID4gcm9vdEBPcGVuV3J0Oi9vdmVybGF5L2V0YyMgbHMgLWwgcm9vdC8NCj4g
Pg0KPiA+IGQtLS0tLS0tLS0gICAxIHJvb3QgICAgIHJvb3QgICAgICAgICAgIDIzMiBKYW4gIDEg
MDg6MDAgZXllbHluDQo+ID4NCj4gPiByb290QE9wZW5XcnQ6L292ZXJsYXkvZXRjIyBscyDigJNs
IHN5c3RlbS9ldGMvZXllbHluL2V5ZWx5bi5sb2cNCj4gPg0KPiA+IC1ydy1yLS1yLS0gICAgMSBy
b290ICAgICByb290ICAgICAgICAgICAgIDAgSmFuICAxIDA4OjAwIC9zeXN0ZW0vZXRjL2V5ZWx5
bi9leWVseW4ubG9nDQo+ID4NCj4gPg0KPiA+DQo+ID4gaWYgd2UgYWRkIHN5bmMgdG8gc3RlcCA0
LCB0aGF0IGlzIOKAnGVjaG8gc3lzdGVtID4gL3N5c3RlbS9ldGMgL2V5ZWx5bi9leWVseW4ubG9n
ICYmIHN5bmPigJ0sIHRoZW4gPiBldmVyeXRoaW5nIGlzIHJpZ2h0Lg0KPiA+DQo+ID4NCj4gPg0K
PiA+IERvIHlvdSBoYXZlIGFueSBzdWdnZXN0aW9ucz8NCj4gPg0KPiA+DQo+IA0KPiANCj4gT3Zl
cmxheWZzIGNyZWF0ZXMgdGhlIHVwcGVyIGRpciBpbiB3b3JrIGRpcmVjdG9yeSwgc2V0cyBpdHMg
bWV0YWRhdGEgYW5kIG9ubHkgdGhlbiBtb3ZlcyBpdCBpbnRvID4gcGxhY2UsIHNvIHRoZSBhYm92
ZSBpcyBhbiAiaXNzdWUiIHdpdGggdWJpZnMuDQo+IA0KPiBUaGUgdGhpbmcgYWJvdXQgdGhpcyAi
aXNzdWUiIGlzIHRoYXQgdGhlIGJlaGF2aW9yIHRoYXQgYWZ0ZXIgbW92ZSB0aGUgb2xkIHBlcm1p
c3Npb25zIGNhbm5vdCBiZSA+IG9ic2VydmVkIGlzIG5vdCBkZWZpbmVkIGJ5IFBPU0lYLCBidXQg
aXQgaXMgdGhlIGZhY3RvIHRoZSBiZWhhdmlvciBvZiBtb3N0IG9mIHRoZSBtb2Rlcm4gZmlsZXN5
c3RlbXMgPiAoeGZzLCBleHQ0IGFuZCBtb3N0IHByb2JhYmx5IGJ0cmZzKS4NCj4gDQo+IElmIHlv
dSB3YW50IHRvIGFkZCBhIGZlYXR1cmUgdGhhdCBhZGRzIGZzeW5jIHRvIGNvcGllZCB1cCBwYXJl
bnQgZGlyZWN0b3JpZXMgZm9yIGZpbGVzeXN0ZW1zIGxpa2UgPiB1YmlmcyB0aGF0IGFyZSBub3Qg
InN0cmljdGx5IG9yZGVyZWQgbWV0YWRhdGEiIHRoZW4gSSB0aGluayB0aGlzIG5lZWRzIHRvIGJl
IGFuIG9wdC1pbiBmZWF0dXJlLg0KPiANCj4gSSBtdXN0IGFkbWl0IHRoYXQgdGhpcyByZXF1aXJl
bWVudCBmcm9tIHRoZSB1cHBlciBmcyBpcyBub3QgZG9jdW1lbnRlZCBhbmQgY2Fubm90IGJlIGF1
dG9tYXRpY2FsbHkgPiB0ZXN0ZWQgYnkgb3ZlcmxheWZzIChmcyBkbyBub3QgYWR2ZXJ0aXNlICJz
dHJpY3RseSBvcmRlcmVkIG1ldGFkYXRhIiBwcm9wZXJ0eSkuIEl0IGp1c3QgaGFwcGVucyB0byA+
IGJlIHRydWUgZm9yIG1vc3Qgb2YgdGhlIGNvbW1vbiBmcyB1c2VkIGFzIHVwcGVyIGZzLg0KPiAN
Cj4gSSB3aXNoIHdlIGhhZCBjYWxsZWQgdGhlIG1vdW50IG9wdGlvbiAidm9sYXRpbGUiICJzeW5j
PW5vbmUiIGFuZCB0aGVuIHdlIGNvdWxkIGhhdmUgYWRkZWQgPiAic3luYz1zdHJpY3QiIGZvciB0
aGlzIGFuZCAic3luYz1kYXRhIiBhcyB0aGUgZGVmYXVsdC4NCj4gV2UgY2FuIHN0aWxsIGRvIHRo
YXQgYW5kIGhhdmUgInZvbGF0aWxlIiBiZSBhbiBhbGlhcyBmb3IgInN5bmM9bm9uZSIuDQo+IA0K
PiBUaGFua3MsDQo+IEFtaXIuDQoNClZlcnkgZ2xhZCB0byByZWNlaXZlIHlvdXIgcmVwbHksIFRo
YW5rIHlvdSBmb3IgZXhwbGFuYXRpb24uDQpBcyB5b3Ugc3VnZ2VzdGVkLCBJIHRyeSB0byBhZGQg
bW91bnQgb3B0aW9uICJzeW5jPXN0cmljdCIsIGNoYW5nZSB0byB1c2UgZnN5bmMgZm9yIHBhcmVu
dCBkaXIuIFBsZWFzZSBoZWxwIGhhdmUgYSBsb29rLg0KDQpkaWZmIC0tZ2l0IGEvZnMvb3Zlcmxh
eWZzL2NvcHlfdXAuYyBiL2ZzL292ZXJsYXlmcy9jb3B5X3VwLmMNCmluZGV4IDQ4YmNhNTgxN2Yu
LjQyNThiOGRhOGQgMTAwNjQ0DQotLS0gYS9mcy9vdmVybGF5ZnMvY29weV91cC5jDQorKysgYi9m
cy9vdmVybGF5ZnMvY29weV91cC5jDQpAQCAtODUxLDYgKzg1MSw3IEBAIHN0YXRpYyBpbnQgb3Zs
X2NvcHlfdXBfb25lKHN0cnVjdCBkZW50cnkgKnBhcmVudCwgc3RydWN0IGRlbnRyeSAqZGVudHJ5
LA0KIA0KIGludCBvdmxfY29weV91cF9mbGFncyhzdHJ1Y3QgZGVudHJ5ICpkZW50cnksIGludCBm
bGFncykNCiB7DQorCXN0cnVjdCBvdmxfZnMgKm9mcyA9IGRlbnRyeS0+ZF9zYi0+c19mc19pbmZv
Ow0KIAlpbnQgZXJyID0gMDsNCiAJY29uc3Qgc3RydWN0IGNyZWQgKm9sZF9jcmVkOw0KIAlib29s
IGRpc2Nvbm5lY3RlZCA9IChkZW50cnktPmRfZmxhZ3MgJiBEQ0FDSEVfRElTQ09OTkVDVEVEKTsN
CkBAIC04ODQsNiArODg1LDI0IEBAIGludCBvdmxfY29weV91cF9mbGFncyhzdHJ1Y3QgZGVudHJ5
ICpkZW50cnksIGludCBmbGFncykNCiAJCX0NCiANCiAJCWVyciA9IG92bF9jb3B5X3VwX29uZShw
YXJlbnQsIG5leHQsIGZsYWdzKTsNCisJCWlmIChvZnMtPmNvbmZpZy52b2xhdGlsZV9zeW5jICYm
IGRfaXNfZGlyKG5leHQpKSB7DQorCQkJc3RydWN0IHBhdGggdXBwZXJwYXRoOw0KKwkJCXN0cnVj
dCBmaWxlICpuZXdfZmlsZTsNCisNCisJCQlvdmxfcGF0aF91cHBlcihuZXh0LCAmdXBwZXJwYXRo
KTsNCisNCisJCQluZXdfZmlsZSA9IG92bF9wYXRoX29wZW4oJnVwcGVycGF0aCwNCisJCQkJCQlP
X0xBUkdFRklMRSB8IE9fV1JPTkxZKTsNCisJCQlpZiAoIUlTX0VSUihuZXdfZmlsZSkpIHsNCisJ
CQkJaWYgKG9mcy0+Y29uZmlnLnZvbGF0aWxlX3N5bmMgPT0NCisJCQkJICAgIE9WTF9WT0xBVElM
RV9TWU5DX0RBVEEpDQorCQkJCQl2ZnNfZnN5bmMobmV3X2ZpbGUsIDEpOw0KKwkJCQllbHNlDQor
CQkJCQl2ZnNfZnN5bmMobmV3X2ZpbGUsIDApOw0KKw0KKwkJCQlmcHV0KG5ld19maWxlKTsNCisJ
CQl9DQorCQl9DQogDQogCQlkcHV0KHBhcmVudCk7DQogCQlkcHV0KG5leHQpOw0KZGlmZiAtLWdp
dCBhL2ZzL292ZXJsYXlmcy9vdmxfZW50cnkuaCBiL2ZzL292ZXJsYXlmcy9vdmxfZW50cnkuaA0K
aW5kZXggMmRhYmEwOGY3OC4uODczZDk5N2ZiOSAxMDA2NDQNCi0tLSBhL2ZzL292ZXJsYXlmcy9v
dmxfZW50cnkuaA0KKysrIGIvZnMvb3ZlcmxheWZzL292bF9lbnRyeS5oDQpAQCAtNSw2ICs1LDEy
IEBADQogICogQ29weXJpZ2h0IChDKSAyMDE2IFJlZCBIYXQsIEluYy4NCiAgKi8NCiANCitlbnVt
IHsNCisJT1ZMX1ZPTEFUSUxFX1NZTkNfTk9ORSwNCisJT1ZMX1ZPTEFUSUxFX1NZTkNfREFUQSwN
CisJT1ZMX1ZPTEFUSUxFX1NZTkNfU1RSSUNULA0KK307DQorDQogc3RydWN0IG92bF9jb25maWcg
ew0KIAljaGFyICpsb3dlcmRpcjsNCiAJY2hhciAqdXBwZXJkaXI7DQpAQCAtMTgsNiArMjQsNyBA
QCBzdHJ1Y3Qgb3ZsX2NvbmZpZyB7DQogCWludCB4aW5vOw0KIAlib29sIG1ldGFjb3B5Ow0KIAli
b29sIG92ZXJyaWRlX2NyZWRzOw0KKwlpbnQgdm9sYXRpbGVfc3luYzsNCiB9Ow0KIA0KIHN0cnVj
dCBvdmxfc2Igew0KZGlmZiAtLWdpdCBhL2ZzL292ZXJsYXlmcy9zdXBlci5jIGIvZnMvb3Zlcmxh
eWZzL3N1cGVyLmMNCmluZGV4IDA5M2FmMWRjYmQuLjY4ZGVlMTg1MGIgMTAwNjQ0DQotLS0gYS9m
cy9vdmVybGF5ZnMvc3VwZXIuYw0KKysrIGIvZnMvb3ZlcmxheWZzL3N1cGVyLmMNCkBAIC00MTYs
NiArNDE2LDkgQEAgZW51bSB7DQogCU9QVF9NRVRBQ09QWV9PRkYsDQogCU9QVF9PVkVSUklERV9D
UkVEU19PTiwNCiAJT1BUX09WRVJSSURFX0NSRURTX09GRiwNCisJT1BUX1ZPTEFUSUxFX1NZTkNf
Tk9ORSwNCisJT1BUX1ZPTEFUSUxFX1NZTkNfREFUQSwNCisJT1BUX1ZPTEFUSUxFX1NZTkNfU1RS
SUNULA0KIAlPUFRfRVJSLA0KIH07DQogDQpAQCAtNDM2LDYgKzQzOSw5IEBAIHN0YXRpYyBjb25z
dCBtYXRjaF90YWJsZV90IG92bF90b2tlbnMgPSB7DQogCXtPUFRfTUVUQUNPUFlfT0ZGLAkJIm1l
dGFjb3B5PW9mZiJ9LA0KIAl7T1BUX09WRVJSSURFX0NSRURTX09OLAkJIm92ZXJyaWRlX2NyZWRz
PW9uIn0sDQogCXtPUFRfT1ZFUlJJREVfQ1JFRFNfT0ZGLAkib3ZlcnJpZGVfY3JlZHM9b2ZmIn0s
DQorCXtPUFRfVk9MQVRJTEVfU1lOQ19OT05FLAkic3luYz1ub25lIn0sDQorCXtPUFRfVk9MQVRJ
TEVfU1lOQ19EQVRBLAkic3luYz1kYXRhIn0sDQorCXtPUFRfVk9MQVRJTEVfU1lOQ19TVFJJQ1Qs
CSJzeW5jPXN0cmljdCJ9LA0KIAl7T1BUX0VSUiwJCQlOVUxMfQ0KIH07DQogDQpAQCAtNDk1LDYg
KzUwMSw3IEBAIHN0YXRpYyBpbnQgb3ZsX3BhcnNlX29wdChjaGFyICpvcHQsIHN0cnVjdCBvdmxf
Y29uZmlnICpjb25maWcpDQogCWlmICghY29uZmlnLT5yZWRpcmVjdF9tb2RlKQ0KIAkJcmV0dXJu
IC1FTk9NRU07DQogCWNvbmZpZy0+b3ZlcnJpZGVfY3JlZHMgPSBvdmxfb3ZlcnJpZGVfY3JlZHNf
ZGVmOw0KKwljb25maWctPnZvbGF0aWxlX3N5bmMgPSBPVkxfVk9MQVRJTEVfU1lOQ18gREFUQTsN
CiANCiAJd2hpbGUgKChwID0gb3ZsX25leHRfb3B0KCZvcHQpKSAhPSBOVUxMKSB7DQogCQlpbnQg
dG9rZW47DQpAQCAtNTgzLDYgKzU5MCwxOCBAQCBzdGF0aWMgaW50IG92bF9wYXJzZV9vcHQoY2hh
ciAqb3B0LCBzdHJ1Y3Qgb3ZsX2NvbmZpZyAqY29uZmlnKQ0KIAkJCWNvbmZpZy0+b3ZlcnJpZGVf
Y3JlZHMgPSBmYWxzZTsNCiAJCQlicmVhazsNCiANCisJCWNhc2UgT1BUX1ZPTEFUSUxFX1NZTkNf
Tk9ORToNCisJCQljb25maWctPnZvbGF0aWxlX3N5bmMgPSBPVkxfVk9MQVRJTEVfU1lOQ19OT05F
Ow0KKwkJCWJyZWFrOw0KKw0KKwkJY2FzZSBPUFRfVk9MQVRJTEVfU1lOQ19EQVRBOg0KKwkJCWNv
bmZpZy0+dm9sYXRpbGVfc3luYyA9IE9WTF9WT0xBVElMRV9TWU5DX0RBVEE7DQorCQkJYnJlYWs7
DQorDQorCQljYXNlIE9QVF9WT0xBVElMRV9TWU5DX1NUUklDVDoNCisJCQljb25maWctPnZvbGF0
aWxlX3N5bmMgPSBPVkxfVk9MQVRJTEVfU1lOQ19TVFJJQ1Q7DQorCQkJYnJlYWs7DQorDQogCQlk
ZWZhdWx0Og0KIAkJCXByX2Vycigib3ZlcmxheWZzOiB1bnJlY29nbml6ZWQgbW91bnQgb3B0aW9u
IFwiJXNcIiBvciBtaXNzaW5nIHZhbHVlXG4iLCBwKTsNCiAJCQlyZXR1cm4gLUVJTlZBTDsNCg0K
VGhhbmtzLA0KRmVpDQoNCg==

